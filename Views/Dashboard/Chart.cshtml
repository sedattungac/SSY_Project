<!DOCTYPE html>
<html lang="en">
<head>
    <title>Google Grafikler</title>
    <style>
        .sedat {
            background-color: yellow;
        }
    </style>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                type: "POST",
                dataType: "json",
                contentType: "application/json",
                url: '@Url.Action("VisualizeResult", "Chart")',
                success: function (result) {
                    google.charts.load('current', {
                        'packages': ['corechart']
                    });
                    google.charts.setOnLoadCallback(function () {
                        drawChart(result);
                    });
                }
            });
        });

        function drawChart(result) {
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Name');
            data.addColumn('number', 'Stoklar');
            var dataArray = [];

            $.each(result, function (i, obj) {
                dataArray.push([obj.CategoryName, obj.BlogCount]);
            });
            data.addRows(dataArray);

            var columnChartOptions = {
                responsive: true,
                title: "Kategori Blog Statik Pie Grafik",
                //width: 319,
                //height: 200,
                bar: { groupWidth: "20%" },
            };

            var columnChart = new google.visualization.PieChart(document
                .getElementById('chart_div'));

            columnChart.draw(data, columnChartOptions);
        }
    </script>
</head>
<body>
    <div class="card card-warning">
        <div class="card-header">
            <h3 class="card-title">Bar Grafik</h3>

            <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                </button>
                <button type="button" class="btn btn-tool" data-card-widget="remove">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="card-body container float-left">
            @*<div id="Piechart_div" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></div>*@
            <div class="float-left sedat" style="max-height:75%; min-height:25%; max-width:75%;min-width:25%; " id="chart_div"></div>


        </div>
        <!-- /.card-body -->
    </div>
    @*<div id="Piechart_div"></div>*@
</body>
</html>


